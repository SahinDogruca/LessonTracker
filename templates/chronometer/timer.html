{% extends 'layout.html' %}
{% load static %}

{% block page %}
<div class="stopwatch">
	<h1><a style="color:inherit" class="gold" href="{% url 'timerIndex' %}">TIMER</a> | <a class="gold" style="color:inherit" href="{% url 'chronometerIndex' %}">STOPWATCH</a></h1>
</div>
<link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
<div class="a">
	<div class="timer"></div>
</div>

	
		<div class="card" id="modal_chronometer" sytle="z-index: 100;">
			<div class="card-header bg-primary text-light text-center rounded">
				<h4 class="card-title">Kronometre Kayıt Formu</h4>
			</div>
			<div class="card-body">
				<form action="{% url 'saveChronometer' %}" method="POST">
					{% csrf_token %}
					<div class="row">
						<div class="col">
							<div class="form-group">
								<select name="area" class="form-control" required>
									<option value="">Select Area</option>
									{% for area in areas %}
									<option value="{{ area.id }}">{{ area.name }}</option>
									{% endfor %}
								</select>
							</div>
							
							<div class="form-group">
								<select name="lesson" id="" class="form-control" required>
									<option value="">Select Lesson</option>
									{% for lesson in lessons %}
									<option value="{{ lesson.id }}">{{ lesson.name }}</option>
									{% endfor %}
								</select>
							</div>
						</div>
					</div>
					<div class="row">
						<div class="col">
							<div class="form-group">
								<input
									type="text"
									name="name"
									class="form-control"
									placeholder="İsim (isteğe bağlı)"
								/>
							</div>
						</div>
						<div class="col">
							<div class="form-group">
								<input type="number" name="count" min="0" class="form-control" placeholder="Soru Sayısı" required/>
							</div>
						</div>
					</div>
					<div class="row">
						<div class="col">
							<div class="form-group">
								<input type="number" name="true" min="0" class="form-control" placeholder="Doğru" required/>
							</div>
						</div>
						<div class="col">
							<div class="form-group">
								<input type="number" name="false" min="0" class="form-control" placeholder="Yanlış" required/>
							</div>
						</div>
					</div>
					<div class="row">
						<div class="col">
							<div class="form-group">
								<input type="number" name="minute" class="form-control" placeholder="Dakika" min="0" id="minute" required/>
							</div>
						</div>
						<div class="col">
							<div class="form-group">
								<input
									type="number"
									name="second"
									class="form-control"
									placeholder="Saniye"
									min="0"
									max="60"
									id="second" 
									required
								/>
							</div>
						</div>
					</div>
					
					

					<div class="row">
						<div class="col">
							<div class="form-group float-right">
								<button type="button" class="btn btn-secondary" id="cancel_modal">İptal Et</button>
								<button type="submit" class="btn btn-primary">Kaydet</button>
							</div>
						</div>
					</div>
				</form>
			</div>
		</div>
	
	<div class="row" style="margin-top: 20px;">
		<div class="col-md-12">
			
			<div class="panel panel-default w-100">
				<table class="table table-light table-bordered table-hover" id="chronometer-table">
					<thead class="bg-primary text-light">
						<tr>
							<th>Tyt / Ayt</th>
							<th>Ders</th>
							<th>Adı</th>
							<th>Süre</th>
							<th>Soru</th>
							<th>Doğru</th>
							<th>Yanlış</th>
							<th>Boş</th>
							<th>Net</th>
							<th>Tarih</th>
							
						</tr>
					</thead>
					<tbody>
						{% for chrono in chronometers %}
						<tr class="border-bottom border-danger" id="chrono-table" title="{{ chrono.name }}">
							<td>{{ chrono.area }}</td>
							<td>{{ chrono.lesson }}</td>
							<td>{{ chrono.name }}</td>
							<td>{{ chrono.get_time }}</td>
							<td>{{ chrono.question }}</td>
							<td>{{ chrono.true }}</td>
							<td>{{ chrono.false }}</td>
							<td>{{ chrono.get_blank_question }}</td>
							<td>{{ chrono.get_clear_question }}</td>
							<td>{{ chrono.get_formatted_date }}</td>
							
						</tr>
						{% endfor %}
					</tbody>
				</table>

				<div class="bottom-area mt-3 text-dark">
					<p>
						Soru Sayısı : <span class="font-weight-bold" id="chrono-question-total"></span>
					</p>
					<p>
						Süre : <span class="font-weight-bold" id="time-total"></span>
					</p>
				</div>
			</div>
			
		</div>
	</div>
	
	
	
    <script src="{% static 'stopwatch.js' %}"></script>
    <script src="{% static 'timer.js' %}"></script>
{% endblock %}